{"dependencies":[{"name":"react","loc":{"line":21,"column":22}},{"name":"doxjs","loc":{"line":22,"column":22}},{"name":"prop-types","loc":{"line":23,"column":24}}],"generated":{"js":"\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nexports.__esModule = true;\nvar react_1 = require(\"react\");\nvar doxjs_1 = require(\"doxjs\");\nvar PropTypes = require(\"prop-types\");\nvar Provider = /** @class */ (function (_super) {\n    __extends(Provider, _super);\n    function Provider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.dox = props.dox;\n        return _this;\n    }\n    Provider.prototype.getChildContext = function () {\n        if (this.dox) {\n            return {\n                dox: this.dox,\n                store: this.dox.observe()\n            };\n        }\n        else {\n            var dox = new doxjs_1[\"default\"]({});\n            return {\n                dox: dox,\n                store: dox.observe()\n            };\n        }\n    };\n    Provider.prototype.render = function () {\n        return this.props.children;\n    };\n    Provider.contextTypes = {\n        dox: PropTypes.object,\n        store: PropTypes.object\n    };\n    Provider.childContextTypes = Provider.contextTypes;\n    return Provider;\n}(react_1.Component));\nexports.Provider = Provider;\nfunction connect(component) {\n    return _a = /** @class */ (function (_super) {\n            __extends(HOC, _super);\n            function HOC(props) {\n                var _this = _super.call(this, props) || this;\n                _this.dox = _this.context.dox;\n                return _this;\n            }\n            HOC.prototype.render = function () {\n                return react_1.createElement(component, __assign({}, this.props, { dox: this.dox, store: this.dox.observe() }), this.props.children);\n            };\n            return HOC;\n        }(react_1.Component)),\n        _a.contextTypes = {\n            dox: PropTypes.object,\n            store: PropTypes.object\n        },\n        _a;\n    var _a;\n}\nexports.connect = connect;\nvar A = /** @class */ (function (_super) {\n    __extends(A, _super);\n    function A() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return A;\n}(react_1.Component));\nconsole.log([connect(A)]);\n","map":{"version":3,"file":"index.js","sourceRoot":"","sources":["src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,+BAAiD;AACjD,+BAA0B;AAC1B,sCAAwC;AAExC;IAAiC,4BAAiB;IAQ9C,kBAAY,KAAK;QAAjB,YACI,kBAAM,KAAK,CAAC,SAEf;QADG,KAAI,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;;IACzB,CAAC;IAED,kCAAe,GAAf;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACX,MAAM,CAAC;gBACH,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;aAC5B,CAAA;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,GAAG,GAAG,IAAI,kBAAK,CAAC,EAAE,CAAC,CAAC;YACxB,MAAM,CAAC;gBACH,GAAG,KAAA;gBACH,KAAK,EAAE,GAAG,CAAC,OAAO,EAAE;aACvB,CAAA;QACL,CAAC;IACL,CAAC;IAED,yBAAM,GAAN;QACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;IAC/B,CAAC;IA7BM,qBAAY,GAAG;QAClB,GAAG,EAAE,SAAS,CAAC,MAAM;QACrB,KAAK,EAAE,SAAS,CAAC,MAAM;KAC1B,CAAA;IACM,0BAAiB,GAAG,QAAQ,CAAC,YAAY,CAAC;IA2BrD,eAAC;CAAA,AAhCD,CAAiC,iBAAS,GAgCzC;AAhCY,4BAAQ;AAkCrB,iBAAwB,SAAS;IAE7B,MAAM;YAAsB,uBAAmB;YAO3C,aAAY,KAAK;gBAAjB,YACI,kBAAM,KAAK,CAAC,SAEf;gBADG,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC;;YAChC,CAAC;YAED,oBAAM,GAAN;gBACI,MAAM,CAAC,qBAAa,CAAC,SAAS,eACvB,IAAI,CAAC,KAAK,IACb,GAAG,EAAE,IAAI,CAAC,GAAG,EACb,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,KAC1B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAC5B,CAAC;YACL,UAAC;QAAD,CAAC,AAnBM,CAAqB,iBAAS;QAC1B,eAAY,GAAG;YAClB,GAAG,EAAE,SAAS,CAAC,MAAM;YACrB,KAAK,EAAE,SAAS,CAAC,MAAM;SAC1B;WAeJ;;AAEL,CAAC;AAvBD,0BAuBC;AAED;IAAgB,qBAAS;IAAzB;;IAEA,CAAC;IAAD,QAAC;AAAD,CAAC,AAFD,CAAgB,iBAAS,GAExB;AAGD,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","sourcesContent":["import { Component, createElement } from \"react\";\nimport DoxJS from \"doxjs\";\nimport * as PropTypes from \"prop-types\";\n\nexport class Provider<T> extends Component<T, any> {\n    static contextTypes = {\n        dox: PropTypes.object,\n        store: PropTypes.object\n    }\n    static childContextTypes = Provider.contextTypes;\n    private dox: DoxJS<T>;\n\n    constructor(props) {\n        super(props);\n        this.dox = props.dox;\n    }\n\n    getChildContext() {\n        if (this.dox) {\n            return {\n                dox: this.dox,\n                store: this.dox.observe()\n            }\n        } else {\n            let dox = new DoxJS({});\n            return {\n                dox,\n                store: dox.observe()\n            }\n        }\n    }\n\n    render() {\n        return this.props.children;\n    }\n\n}\n\nexport function connect(component) {\n\n    return class HOC<T> extends Component<any, any> {\n        static contextTypes = {\n            dox: PropTypes.object,\n            store: PropTypes.object\n        }\n        private dox: DoxJS<T>;\n\n        constructor(props) {\n            super(props);\n            this.dox = this.context.dox;\n        }\n\n        render() {\n            return createElement(component, {\n                ...this.props,\n                dox: this.dox,\n                store: this.dox.observe()\n            }, this.props.children);\n        }\n    }\n\n}\n\nclass A extends Component {\n\n}\n\n\nconsole.log([connect(A)]);\n"]}},"hash":"d0389d8e76fac2ec3e7ccdd22a809ac0","cacheData":{"env":{}}}